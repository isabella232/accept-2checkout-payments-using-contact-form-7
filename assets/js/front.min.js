!function(e){"use strict";if(0==e("body").find(".cfspzw-form-code").length)return!1;function a(){var a=String(e("#twocheckout_expMonth").val()).trim(),t=String(e("#twocheckout_expYear").val()).trim();if(!/^\d+$/.test(a))return!1;if(!/^\d+$/.test(t))return!1;if(!(1<=a&&a<=12))return!1;if(2===t.length&&(t=t<70?"20"+t:"19"+t),4!==t.length)return!1;var c=new Date(t,a),i=new Date;return c.setMonth(c.getMonth()-1),c.setMonth(c.getMonth()+1,1),c<i?(e("#twocheckout_expMonth").addClass("required"),e("#twocheckout_expYear").addClass("required"),1):(e("#twocheckout_expMonth").removeClass("required"),e("#twocheckout_expYear").removeClass("required"),0)}e(function(){e("body").find(".two-checkout-country").length>0&&e(".two-checkout-country").select2(),e(document).on("keyup",".cfspzw-form-code #twocheckout_card_no",function(){e("#twocheckout_card_no").validateCreditCard(function(a){var t=null==a.card_type?"":a.card_type.name;if("visa"==t){var c=a.valid?"15px -161px, calc(100% + 90px) -87px":"15px -129px, calc(100% + 90px) -68px;";e("#two_checkout_cardtype").val("visa")}else"visa_electron"==t?(c=a.valid?"15px -205px, calc(100% + 90px) -87px":"15px -129px, calc(100% + 90px) -68px;",e("#two_checkout_cardtype").val("visaelectron")):"mastercard"==t?(c=a.valid?"15px -245px, calc(100% + 90px) -86px":"15px -129px, calc(100% + 90px) -68px;",e("#two_checkout_cardtype").val("mastercard")):"maestro"==t?(c=a.valid?"15px -289px, calc(100% + 90px) -87px":"15px -129px, calc(100% + 90px) -68px;",e("#two_checkout_cardtype").val("maestro")):"discover"==t?(c=a.valid?"15px -329px, calc(100% + 90px) -87px":"15px -129px, calc(100% + 90px) -68px;",e("#two_checkout_cardtype").val("discover")):"amex"==t?(c=a.valid?"15px -371px, calc(100% + 90px) -87px":"15px -129px, calc(100% + 90px) -68px;",e("#two_checkout_cardtype").val("amex")):"jcb"==t?(c=a.valid?"15px -414px, calc(100% + 90px) -87px":"15px -129px, calc(100% + 90px) -68px;",e("#two_checkout_cardtype").val("jcb")):(c=a.valid?"15px -121px, calc(100% + 90px) -87px":"15px -129px, calc(100% + 90px) -68px;",e("#two_checkout_cardtype").val(""));a.valid?(e("#card_type").val(t),e("#twocheckout_card_no").css("background-position",c),e("#twocheckout_card_no").removeClass("required"),1):(c="10px -118px, calc(100% + 90px) -58px",e("#twocheckout_card_no").css("background-position",c),e("#twocheckout_card_no").addClass("required"),0)})}),e(document).on("click",".wpcf7-submit",function(t){if(e(".ajax-loader").hasClass("is-active"))return t.preventDefault(),!1;e("div.wpcf7 .ajax-loader").addClass("is-active"),e("div.wpcf7 .ajax-loader").css("visibility","visible"),e(".chechout_cardInfo .payment-required-fields").each(function(){""==e.trim(e(this).val())?e(this).addClass("required"):e(this).removeClass("required")}),e("#twocheckout_card_CVV").val().trim().length<=2?e("#twocheckout_card_CVV").addClass("required"):e("#twocheckout_card_CVV").removeClass("required"),""!=e("#twocheckout_card_no").val()&&""!=e("#twocheckout_card_CVV").val()&&""!=e("#twocheckout_expMonth").val()&&""!=e("#twocheckout_expYear").val()&&""!=e("#twocheckout_card_holder_name").val()?""==a()?setTimeout(function(){e("body").find(".wpcf7-not-valid-tip").length>0?(e(".wpcf7-submit").removeAttr("disabled"),e("div.wpcf7 .ajax-loader").removeClass("is-active"),e("div.wpcf7 .ajax-loader").css("visibility","hidden")):(e(".wpcf7-submit").attr("disabled","disabled"),e("div.wpcf7 .ajax-loader").addClass("is-active"),e("div.wpcf7 .ajax-loader").css("visibility","visible"))},700):(e(".wpcf7-submit").removeAttr("disabled"),e("div.wpcf7 .ajax-loader").css("visibility","hidden"),setTimeout(function(){e(".wpcf7-submit").attr("disabled","disabled"),e("div.wpcf7 .ajax-loader").addClass("is-active"),e("div.wpcf7 .ajax-loader").css("visibility","visible")},700)):(a(),e("div.wpcf7 .ajax-loader").addClass("is-active"),e("div.wpcf7 .ajax-loader").css("visibility","visible"),setTimeout(function(){e("body").find(".wpcf7-not-valid-tip").length>0?(e(".wpcf7-submit").removeAttr("disabled"),e("div.wpcf7 .ajax-loader").removeClass("is-active"),e("div.wpcf7 .ajax-loader").css("visibility","hidden")):(e(".wpcf7-submit").attr("disabled","disabled"),e("div.wpcf7 .ajax-loader").addClass("is-active"),e("div.wpcf7 .ajax-loader").css("visibility","visible"))},700))})}),document.addEventListener("wpcf7mailsent",function(a){e(".wpcf7-submit").removeAttr("disabled"),e("div.wpcf7 .ajax-loader").removeClass("is-active"),e("div.wpcf7 .ajax-loader").css("visibility","hidden");e("#twocheckout_card_no").css("background-position","15px -119px,calc(100% + 90px) -60px");a.detail.contactFormId;var t=a.detail.apiResponse.redirection_url;""!=t&&null!=t&&setTimeout(function(){window.location=t},1e3)}),document.addEventListener("wpcf7submit",function(a){setTimeout(function(){e("body").find(".wpcf7-not-valid-tip").length>0&&(e(".wpcf7-submit").removeAttr("disabled"),e("div.wpcf7 .ajax-loader").removeClass("is-active"),e("div.wpcf7 .ajax-loader").css("visibility","hidden"))},700)}),document.addEventListener("wpcf7mailfailed",function(a){e(".wpcf7-submit").removeAttr("disabled"),e("div.wpcf7 .ajax-loader").removeClass("is-active"),e("div.wpcf7 .ajax-loader").css("visibility","hidden");a.detail.contactFormId;var t=a.detail.apiResponse.redirection_url;""!=t&&null!=t&&setTimeout(function(){window.location=t},1e3)}),e("#twocheckout_card_CVV").keypress(function(e){if(8!=e.which&&0!=e.which&&(e.which<48||e.which>57))return!1})}(jQuery);