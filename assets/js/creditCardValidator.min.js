(function(){var n,r,t,e=[].indexOf||function(n){for(var r=0,t=this.length;r<t;r++)if(r in this&&this[r]===n)return r;return-1};t=function(){function n(){this.trie={}}return n.prototype.push=function(n){var r,t,e,a,i,l,u;for(n=n.toString(),i=this.trie,u=[],t=e=0,a=(l=n.split("")).length;e<a;t=++e)null==i[r=l[t]]&&(t===n.length-1?i[r]=null:i[r]={}),u.push(i=i[r]);return u},n.prototype.find=function(n){var r,t,e,a,i,l;for(n=n.toString(),i=this.trie,t=e=0,a=(l=n.split("")).length;e<a;t=++e){if(r=l[t],!i.hasOwnProperty(r))return!1;if(null===i[r])return!0;i=i[r]}},n}(),r=function(){function n(n){if(this.trie=n,this.trie.constructor!==t)throw Error("Range constructor requires a Trie parameter")}return n.rangeWithString=function(r){var e,a,i,l,u,o,c,h,f;if("string"!=typeof r)throw Error("rangeWithString requires a string parameter");for(r=(r=r.replace(/ /g,"")).split(","),f=new t,e=0,i=r.length;e<i;e++)if(u=(o=r[e]).match(/^(\d+)-(\d+)$/))for(l=a=c=u[1],h=u[2];c<=h?a<=h:a>=h;l=c<=h?++a:--a)f.push(l);else{if(!o.match(/^\d+$/))throw Error("Invalid range '"+u+"'");f.push(o)}return new n(f)},n.prototype.match=function(n){return this.trie.find(n)},n}(),(n=jQuery).fn.validateCreditCard=function(t,a){var i,l,u,o,c,h,f,g,s,v,p,d,m,_;for(o=[{name:"amex",range:"34,37",valid_length:[15]},{name:"diners_club_carte_blanche",range:"300-305",valid_length:[14]},{name:"diners_club_international",range:"36",valid_length:[14]},{name:"jcb",range:"3528-3589",valid_length:[16]},{name:"laser",range:"6304, 6706, 6709, 6771",valid_length:[16,17,18,19]},{name:"visa_electron",range:"4026, 417500, 4508, 4844, 4913, 4917",valid_length:[16]},{name:"visa",range:"4",valid_length:[13,14,15,16,17,18,19]},{name:"mastercard",range:"51-55,2221-2720",valid_length:[16]},{name:"discover",range:"6011, 622126-622925, 644-649, 65",valid_length:[16]},{name:"dankort",range:"5019",valid_length:[16]},{name:"maestro",range:"50, 56-69",valid_length:[12,13,14,15,16,17,18,19]},{name:"uatp",range:"1",valid_length:[15]}],i=!1,t&&("object"==typeof t?(a=t,i=!1,t=null):"function"==typeof t&&(i=!0)),null==a&&(a={}),null==a.accept&&(a.accept=function(){var n,r,t;for(t=[],n=0,r=o.length;n<r;n++)l=o[n],t.push(l.name);return t}()),g=0,s=(p=a.accept).length;g<s;g++)if(u=p[g],e.call(function(){var n,r,t;for(t=[],n=0,r=o.length;n<r;n++)l=o[n],t.push(l.name);return t}(),u)<0)throw Error("Credit card type '"+u+"' is not supported");return c=function(n){var t,i,c;for(c=function(){var n,r,t,i;for(i=[],n=0,r=o.length;n<r;n++)t=(l=o[n]).name,e.call(a.accept,t)>=0&&i.push(l);return i}(),t=0,i=c.length;t<i;t++)if(u=c[t],r.rangeWithString(u.range).match(n))return u;return null},f=function(n){var r,t,e,a,i,l;for(l=0,a=t=0,e=(i=n.split("").reverse()).length;t<e;a=++t)r=+(r=i[a]),l+=a%2?(r*=2)<10?r:r-9:r;return l%10==0},h=function(n,r){var t;return t=n.length,e.call(r.valid_length,t)>=0},m=function(n){var r,t;return t=!1,r=!1,null!=(u=c(n))&&(t=f(n),r=h(n,u)),{card_type:u,valid:t&&r,luhn_valid:t,length_valid:r}},_=this,d=function(){var r;return r=v(n(_).val()),m(r)},v=function(n){return n.replace(/[ -]/g,"")},i?(this.on("input.jccv",function(r){return function(){return n(r).off("keyup.jccv"),t.call(r,d())}}(this)),this.on("keyup.jccv",function(n){return function(){return t.call(n,d())}}(this)),t.call(this,d()),this):d()}}).call(this);